<html>
	<head>
    <title>D3 Exercises</title>
		<script type='text/javascript' src='http://localhost/projects/d3/d3.v2.min.js'>
		</script>
        <style></style>
    </head>
    <body>
		<script type = "text/javascript">    
            d3.csv('simpleData.csv', function(data) {
				data.forEach(function(d) { d.value = +d.value; });

                var w = 500
                var h = 300
                var barPadding = 1
                var svg = d3.select("body")
                    .append("svg")
                    .attr("width", w)
                    .attr("height", h)
                svg.selectAll("rect")
                    .data(data)
                    .enter()
                    .append("rect")
                    .attr("x", function(d, i) {
                        return i * ( w / data.length);
                        })
                    .attr("y", function(d) {
                        return h - (d.value * 4);
                        })
                    .attr("width", w / data.length - barPadding)
                    .attr("height", function(d) {
                        return d.value * 4;
                        })
                    .attr("fill", function(d) {
                        return "rgb(102, "+ d.value * 8 + ", 204)";
                        });
                svg.selectAll("text")
                    .data(data)
                    .enter()
                    .append("text")
                    .text(function(d) {
                        return d.value;
                        }) 
                    .attr("x", function(d, i) {
                        return i * (w / data.length) + (w / data.length - barPadding) / 2;
                        })
                    .attr("y", function(d) {
                        return h - (d.value * 4) + 14;
                        })
                    .attr("font-family", "sans-serif")
                    .attr("font-size", "11px")
                    .attr("fill", "grey")
                    .attr("text-anchor", "middle");
            ;})
        </script>

    </body>
</html>
